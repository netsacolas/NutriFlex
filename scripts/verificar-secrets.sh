#!/bin/bash

echo "ğŸ” Verificando Secrets configurados no Supabase..."
echo ""

# Listar secrets
echo "ğŸ“‹ Listando todos os secrets..."
npx supabase secrets list

echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… Secrets OBRIGATÃ“RIOS para kiwify-api:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "1. KIWIFY_CLIENT_ID"
echo "2. KIWIFY_CLIENT_SECRET"
echo "3. KIWIFY_ACCOUNT_ID"
echo ""
echo "Se algum destes NÃƒO aparecer na lista acima, configure:"
echo ""
echo "npx supabase secrets set KIWIFY_CLIENT_ID=\"4c747409-c212-45d1-aaf9-4a5d43dac808\""
echo "npx supabase secrets set KIWIFY_CLIENT_SECRET=\"seu-secret-aqui\""
echo "npx supabase secrets set KIWIFY_ACCOUNT_ID=\"av8qNBGVVoyVD75\""
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âœ… Secrets RECOMENDADOS (para funcionar 100%):"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "4. SUPABASE_URL"
echo "5. SUPABASE_SERVICE_ROLE_KEY"
echo ""
echo "npx supabase secrets set SUPABASE_URL=\"https://keawapzxqoyesptwpwav.supabase.co\""
echo "npx supabase secrets set SUPABASE_SERVICE_ROLE_KEY=\"sua-service-role-key\""
echo ""
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo "âš ï¸ ApÃ³s configurar os secrets, vocÃª DEVE fazer redeploy:"
echo "â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”"
echo ""
echo "npx supabase functions deploy kiwify-api"
echo "npx supabase functions deploy kiwify-sync"
echo ""
